(()=>{"use strict";var e={426:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(537),r=n.n(o),a=n(645),i=n.n(a)()(r());i.push([e.id,"body {\n    display:flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n#main-body {\n    width: 100vw;\n    display: flex;\n    justify-content:space-around;\n}\n\n.game-board {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    text-align: center;\n}\n\n.grid {\n    display: flex;\n    flex-wrap: wrap;\n}\n\n\n/*Instruction Screen*/\n\n.modal {\n    display: block; /* Hidden by default */\n    position: fixed; /* Stay in place */\n    z-index: 1; /* Sit on top */\n    padding-top: 100px; /* Location of the box */\n    left: 0;\n    top: 0;\n    width: 100%; /* Full width */\n    height: 100%; /* Full height */\n    overflow: auto; /* Enable scroll if needed */\n    background-color: rgb(0,0,0); /* Fallback color */\n    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\n  }\n\n  /* Modal Content */\n  .modal-content {\n    background-color: #92e2ec;\n    margin: auto;\n    padding: 20px;\n    border: 1px solid #888;\n    width: 200px;\n    border-radius: 10px;\n   \n  }\n\n   /* The Close Button */\n   .close {\n    color: #aaaaaa;\n    float: right;\n    font-size: 28px;\n    font-weight: bold;\n  }\n  \n  .close:hover,\n  .close:focus {\n    color: #000;\n    text-decoration: none;\n    cursor: pointer;\n  }","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;IACI,YAAY;IACZ,sBAAsB;IACtB,mBAAmB;AACvB;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,4BAA4B;AAChC;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,uBAAuB;IACvB,kBAAkB;AACtB;;AAEA;IACI,aAAa;IACb,eAAe;AACnB;;;AAGA,qBAAqB;;AAErB;IACI,cAAc,EAAE,sBAAsB;IACtC,eAAe,EAAE,kBAAkB;IACnC,UAAU,EAAE,eAAe;IAC3B,kBAAkB,EAAE,wBAAwB;IAC5C,OAAO;IACP,MAAM;IACN,WAAW,EAAE,eAAe;IAC5B,YAAY,EAAE,gBAAgB;IAC9B,cAAc,EAAE,4BAA4B;IAC5C,4BAA4B,EAAE,mBAAmB;IACjD,iCAAiC,EAAE,qBAAqB;EAC1D;;EAEA,kBAAkB;EAClB;IACE,yBAAyB;IACzB,YAAY;IACZ,aAAa;IACb,sBAAsB;IACtB,YAAY;IACZ,mBAAmB;;EAErB;;GAEC,qBAAqB;GACrB;IACC,cAAc;IACd,YAAY;IACZ,eAAe;IACf,iBAAiB;EACnB;;EAEA;;IAEE,WAAW;IACX,qBAAqB;IACrB,eAAe;EACjB",sourcesContent:["body {\n    display:flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n#main-body {\n    width: 100vw;\n    display: flex;\n    justify-content:space-around;\n}\n\n.game-board {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    text-align: center;\n}\n\n.grid {\n    display: flex;\n    flex-wrap: wrap;\n}\n\n\n/*Instruction Screen*/\n\n.modal {\n    display: block; /* Hidden by default */\n    position: fixed; /* Stay in place */\n    z-index: 1; /* Sit on top */\n    padding-top: 100px; /* Location of the box */\n    left: 0;\n    top: 0;\n    width: 100%; /* Full width */\n    height: 100%; /* Full height */\n    overflow: auto; /* Enable scroll if needed */\n    background-color: rgb(0,0,0); /* Fallback color */\n    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\n  }\n\n  /* Modal Content */\n  .modal-content {\n    background-color: #92e2ec;\n    margin: auto;\n    padding: 20px;\n    border: 1px solid #888;\n    width: 200px;\n    border-radius: 10px;\n   \n  }\n\n   /* The Close Button */\n   .close {\n    color: #aaaaaa;\n    float: right;\n    font-size: 28px;\n    font-weight: bold;\n  }\n  \n  .close:hover,\n  .close:focus {\n    color: #000;\n    text-decoration: none;\n    cursor: pointer;\n  }"],sourceRoot:""}]);const s=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(o)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);o&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),t.push(d))}},t}},537:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),a="/*# ".concat(r," */"),i=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(i).concat([a]).join("\n")}return[t].join("\n")}},379:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var a={},i=[],s=0;s<e.length;s++){var c=e[s],l=o.base?c[0]+o.base:c[0],d=a[l]||0,p="".concat(l," ").concat(d);a[l]=d+1;var h=n(p),u={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)t[h].references++,t[h].updater(u);else{var m=r(u,o);o.byIndex=s,t.splice(s,0,{identifier:p,updater:m,references:1})}i.push(p)}return i}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var a=o(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=n(a[i]);t[s].references--}for(var c=o(e,r),l=0;l<a.length;l++){var d=n(a[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}a=c}}},569:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{function e(e,t,n){let o=[t];for(let r=1;r<e;r++)"horizontal"==n?o.push([t[0]+r,t[1]]):"vertical"==n&&o.push([t[0],t[1]+r]);return{selected:!1,startPos:t,posArray:o,hits:[],length:e,orientation:n,hit(e){return t=this.posArray,n=e,o=JSON.stringify(n),!!t.some((function(e){return JSON.stringify(e)===o}))&&(console.log("got hit"),this.hits.push(e),!0);var t,n,o},isSunk(){return this.hits.length==this.length},move(e){switch(e){case"right":this.startPos=[this.startPos[0]+1,this.startPos[1]],this.posArray=this.posArray.map((e=>[e[0]+1,e[1]]));break;case"left":this.startPos=[this.startPos[0]-1,this.startPos[1]],this.posArray=this.posArray.map((e=>[e[0]-1,e[1]]));break;case"down":this.startPos=[this.startPos[0],this.startPos[1]+1],this.posArray=this.posArray.map((e=>[e[0],e[1]+1]));break;case"up":this.startPos=[this.startPos[0],this.startPos[1]-1],this.posArray=this.posArray.map((e=>[e[0],e[1]-1]))}},rotate(){this.posArray.length=0,this.posArray=[this.startPos],"horizontal"==this.orientation?this.orientation="vertical":this.orientation="horizontal";for(let e=1;e<this.length;e++)"horizontal"==this.orientation?this.posArray.push([this.startPos[0]+e,this.startPos[1]]):"vertical"==this.orientation&&this.posArray.push([this.startPos[0],this.startPos[1]+e])}}}function t(){function t(e,t){var n=JSON.stringify(t);return e.some((function(e){return JSON.stringify(e)===n}))}return{ships:[],hits:[],misses:[],placeShip(n,o,r){let a=!1,i=e(n,o,r);this.ships.forEach((e=>{e.posArray.forEach((e=>{t(i.posArray,e)&&(a=!0)}))})),a||this.ships.push(i)},receiveAttack(e){let t=!1;this.ships.forEach((n=>{n.hit(e)&&(this.hits.push(e),t=!0)})),t||this.misses.push(e)},allSunk(){let e=!0;return this.ships.forEach((t=>{t.isSunk()||(e=!1)})),e},move(n,o){let r,a=!0;switch(o){case"right":r=e(n.length,[n.posArray[0][0]+1,n.posArray[0][1]],n.orientation);break;case"left":r=e(n.length,[n.posArray[0][0]-1,n.posArray[0][1]],n.orientation);break;case"down":r=e(n.length,[n.posArray[0][0],n.posArray[0][1]+1],n.orientation);break;case"up":r=e(n.length,[n.posArray[0][0],n.posArray[0][1]-1],n.orientation)}this.ships.forEach((e=>{e!=n&&e.posArray.forEach((e=>{t(r.posArray,e)&&(console.log("anothership in the way!!!"),a=!1)})),r.posArray.forEach((e=>{(e[0]>9||e[1]>9||e[0]<0||e[1]<0)&&(console.log("reached the border!!"),a=!1)}))})),console.log("can move:"+a+" in "+o),a&&(n.move(o),console.log(this.ships))},rotate(n){let o,r=!0;o="horizontal"==n.orientation?e(n.length,n.posArray[0],"vertical"):e(n.length,n.posArray[0],"horizontal"),this.ships.forEach((e=>{e!=n&&e.posArray.forEach((e=>{t(o.posArray,e)&&(console.log("anothership in the way!!!"),r=!1)})),o.posArray.forEach((e=>{(e[0]>9||e[1]>9||e[0]<0||e[1]<0)&&(console.log("reached the border!!"),r=!1)}))})),console.log("can rotate: "+r),r&&(n.rotate(),console.log(this.ships))}}}function o(e,t,n){function o(e,t){var n=JSON.stringify(t);return e.some((function(e){return JSON.stringify(e)===n}))}return n?{gameBoard:e,enemyGameboard:t,tries:[],attackEnemy(){let e=[Math.floor(10*Math.random()),Math.floor(10*Math.random())];for(;o(this.tries,e);)e=[Math.floor(10*Math.random()),Math.floor(10*Math.random())];this.tries.push(e),t.receiveAttack(e)}}:{gameBoard:e,enemyGameboard:t,tries:[],attackEnemy(e){o(this.tries,e)||(t.receiveAttack(e),this.tries.push(e))}}}let r;function a(e){let t=document.createElement("div");t.className="grid",t.style.width="522px",t.style.height="511px";for(let n=0;n<10;n++)for(let o=0;o<10;o++){let r=document.createElement("div");r.style.width="50px",r.style.height="50px",r.style.borderStyle="solid",r.style.borderWidth="1px",r.style.backgroundColor="blue",r.className="unit",r.id=o+"|"+n+"|"+e,t.appendChild(r)}return t}function i(){s(v().gameBoard.ships,"player"),s(b().gameBoard.ships,"computer"),c(v().gameBoard.hits,"player"),l(v().gameBoard.misses,"player"),c(b().gameBoard.hits,"computer"),l(b().gameBoard.misses,"computer")}function s(e,t){e.forEach((e=>[e.posArray.forEach((e=>{let n=e[0]+"|"+e[1]+"|"+t,o=document.getElementById(n);o.classList.add("ship"),o.style.backgroundColor="black"}))]))}function c(e,t){e.forEach((e=>{let n=e[0]+"|"+e[1]+"|"+t;document.getElementById(n).style.backgroundColor="red"}))}function l(e,t){e.forEach((e=>{let n=e[0]+"|"+e[1]+"|"+t;document.getElementById(n).style.backgroundColor="grey"}))}let d,p,h,u,m="player",A=!1,f=!1;function y(){d=t(),p=t(),d.placeShip(5,[0,0],"vertical"),d.placeShip(4,[1,0],"vertical"),d.placeShip(3,[2,0],"vertical"),d.placeShip(3,[3,0],"vertical"),d.placeShip(2,[4,0],"vertical"),function(){for(p.placeShip(5,[Math.floor(5*Math.random()),Math.floor(5*Math.random())],Math.random()>.5?"horizontal":"vertical");2!=p.ships.length;)p.placeShip(4,[Math.floor(6*Math.random()),Math.floor(6*Math.random())],Math.random()>.5?"horizontal":"vertical");for(;3!=p.ships.length;)p.placeShip(3,[Math.floor(7*Math.random()),Math.floor(7*Math.random())],Math.random()>.5?"horizontal":"vertical");for(;4!=p.ships.length;)p.placeShip(3,[Math.floor(7*Math.random()),Math.floor(7*Math.random())],Math.random()>.5?"horizontal":"vertical");for(;5!=p.ships.length;)p.placeShip(2,[Math.floor(8*Math.random()),Math.floor(8*Math.random())],Math.random()>.5?"horizontal":"vertical")}(),h=o(d,p,!1),u=o(p,d,!0),h.attackEnemy([0,1]),h.attackEnemy([5,5]),u.attackEnemy(),u.attackEnemy(),function(){let e=document.querySelector("body");!function(){let e=document.querySelector("body"),t=document.createElement("div");t.id="instructions",t.className="modal";let n=document.createElement("div");n.className="modal-content",n.innerHTML="Instructions";let o=document.createElement("span");o.className="close",o.id="close-instructions-button",o.innerHTML="&times;",n.appendChild(o),t.appendChild(n),e.appendChild(t)}(),function(){let e=document.querySelector("body"),t=document.createElement("div");t.id="gameOver",t.className="modal",t.style.display="none";let n=document.createElement("div");n.className="modal-content",n.innerHTML="Game Over";let o=document.createElement("span");o.className="close",o.id="close-game-button",o.innerHTML="&times;",n.appendChild(o),t.appendChild(n),e.appendChild(t)}();let t=document.createElement("header");t.innerHTML="Battleship",t.id="header";let n=document.createElement("h1");n.innerHTML="Place your Ships!",n.id="secondary";let o=document.createElement("button");o.innerHTML="Start Game",o.id="start-button";let c=document.createElement("div");c.id="main-body";let l=function(){let e=document.createElement("div");e.className="game-board",e.id="player-board";let t=a("player"),n=document.createElement("p");return n.innerHTML="Player board",n.className="board-name",e.appendChild(t),e.appendChild(n),e}(),d=function(){let e=document.createElement("div");e.className="game-board",e.id="computer-board";let t=a("computer"),n=document.createElement("p");return n.innerHTML="Computer board",n.className="board-name",e.appendChild(t),e.appendChild(n),e}();c.appendChild(l),c.appendChild(d);let p=document.createElement("button");p.innerHTML="Help",p.id="help-button",e.appendChild(t),e.appendChild(n),e.appendChild(o),e.appendChild(c),e.appendChild(p),i(),function(){let e=document.getElementById("start-button");e.addEventListener("click",(()=>{if("Start Game"==e.innerHTML)A=!0,console.log("Game started!!!!"),e.innerHTML="Reset Game";else if("Reset Game"==e.innerHTML){e.innerHTML="Start Game";let t=document.querySelector("body");for(;t.firstChild;)t.removeChild(t.firstChild);A=!1,f=!1,m="player",y(),document.getElementById("instructions").style.display="none"}})),document.getElementById("computer-board").addEventListener("click",(e=>{!B()&&E()&&e.target.classList.contains("unit")&&"player"==m&&function(e){let t=e.split("|");console.log("attack clicked!");let n=[parseInt(t[0]),parseInt(t[1])];var o,r,a;"computer"!=t[2]||(o=v().tries,r=n,a=JSON.stringify(r),o.some((function(e){return JSON.stringify(e)===a})))||(v().attackEnemy(n),i(),g())}(e.target.id)})),document.getElementById("player-board").addEventListener("click",(e=>{B()||E()||!e.target.classList.contains("ship")||function(e){let t=e.target.id.split("|");if("player"==t[2]){let n=[parseInt(t[0]),parseInt(t[1])];v().gameBoard.ships.forEach((e=>{e.selected=!1,e.posArray.forEach((t=>{JSON.stringify(n)==JSON.stringify(t)&&(r=e)}))})),r.selected=!0,console.log("selected"+r),e.stopPropagation()}}(e)})),window.addEventListener("click",(e=>{v().gameBoard.ships.forEach((e=>{e.selected=!1}))})),window.addEventListener("keydown",(function(e){if(!e.defaultPrevented){if(void 0!==r&&!E()){switch(e.key){case"ArrowDown":v().gameBoard.move(r,"down");break;case"ArrowUp":v().gameBoard.move(r,"up");break;case"ArrowLeft":v().gameBoard.move(r,"left");break;case"ArrowRight":v().gameBoard.move(r,"right");break;case" ":v().gameBoard.rotate(r);break;default:return}!function(){let e=document.querySelectorAll(".ship");Array.from(e).forEach((e=>{e.classList.remove("ship"),e.style.backgroundColor="blue"})),s(v().gameBoard.ships,"player"),s(b().gameBoard.ships,"computer")}()}e.preventDefault()}}),!0),function(){let e=document.getElementById("instructions"),t=document.getElementById("close-instructions-button");document.getElementById("help-button").onclick=function(){e.style.display="block"},t.onclick=function(){e.style.display="none"},window.onclick=function(t){t.target==e&&(e.style.display="none")}}()}()}()}async function g(){p.allSunk()||d.allSunk()?(m="computer",f=!0,console.log("Game Ended"),function(){let e=document.getElementById("gameOver"),t=document.getElementById("close-game-button");e.style.display="block",t.onclick=function(){e.style.display="none"},window.onclick=function(t){t.target==e&&(e.style.display="none")}}()):(m="computer",await(0,new Promise((e=>setTimeout(e,0)))),u.attackEnemy(),i(),m="player")}function v(){return h}function b(){return u}function E(){return A}function B(){return f}var C=n(379),k=n.n(C),I=n(795),M=n.n(I),w=n(569),x=n.n(w),S=n(565),L=n.n(S),N=n(216),P=n.n(N),T=n(589),O=n.n(T),H=n(426),z={};z.styleTagTransform=O(),z.setAttributes=L(),z.insert=x().bind(null,"head"),z.domAPI=M(),z.insertStyleElement=P(),k()(H.Z,z),H.Z&&H.Z.locals&&H.Z.locals,y()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVF5QixPQUFTLFNBQWMsS0FBTSxRQUUzQ3pCLEVBQVFlLE9BQVMsSUFDakJmLEVBQVE4QyxtQkFBcUIsSUFFaEIsSUFBSSxJQUFTOUMsR0FLSixLQUFXLFlBQWlCLFdDbkJsRHVKLEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvU2hpcC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL0dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL1BsYXllci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL0RPTS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL0dhbWUuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zdHlsZS5jc3M/NzE2MyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiYm9keSB7XFxuICAgIGRpc3BsYXk6ZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuI21haW4tYm9keSB7XFxuICAgIHdpZHRoOiAxMDB2dztcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAganVzdGlmeS1jb250ZW50OnNwYWNlLWFyb3VuZDtcXG59XFxuXFxuLmdhbWUtYm9hcmQge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4uZ3JpZCB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtd3JhcDogd3JhcDtcXG59XFxuXFxuXFxuLypJbnN0cnVjdGlvbiBTY3JlZW4qL1xcblxcbi5tb2RhbCB7XFxuICAgIGRpc3BsYXk6IGJsb2NrOyAvKiBIaWRkZW4gYnkgZGVmYXVsdCAqL1xcbiAgICBwb3NpdGlvbjogZml4ZWQ7IC8qIFN0YXkgaW4gcGxhY2UgKi9cXG4gICAgei1pbmRleDogMTsgLyogU2l0IG9uIHRvcCAqL1xcbiAgICBwYWRkaW5nLXRvcDogMTAwcHg7IC8qIExvY2F0aW9uIG9mIHRoZSBib3ggKi9cXG4gICAgbGVmdDogMDtcXG4gICAgdG9wOiAwO1xcbiAgICB3aWR0aDogMTAwJTsgLyogRnVsbCB3aWR0aCAqL1xcbiAgICBoZWlnaHQ6IDEwMCU7IC8qIEZ1bGwgaGVpZ2h0ICovXFxuICAgIG92ZXJmbG93OiBhdXRvOyAvKiBFbmFibGUgc2Nyb2xsIGlmIG5lZWRlZCAqL1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMCwwLDApOyAvKiBGYWxsYmFjayBjb2xvciAqL1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuNCk7IC8qIEJsYWNrIHcvIG9wYWNpdHkgKi9cXG4gIH1cXG5cXG4gIC8qIE1vZGFsIENvbnRlbnQgKi9cXG4gIC5tb2RhbC1jb250ZW50IHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzkyZTJlYztcXG4gICAgbWFyZ2luOiBhdXRvO1xcbiAgICBwYWRkaW5nOiAyMHB4O1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjODg4O1xcbiAgICB3aWR0aDogMjAwcHg7XFxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XFxuICAgXFxuICB9XFxuXFxuICAgLyogVGhlIENsb3NlIEJ1dHRvbiAqL1xcbiAgIC5jbG9zZSB7XFxuICAgIGNvbG9yOiAjYWFhYWFhO1xcbiAgICBmbG9hdDogcmlnaHQ7XFxuICAgIGZvbnQtc2l6ZTogMjhweDtcXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICB9XFxuICBcXG4gIC5jbG9zZTpob3ZlcixcXG4gIC5jbG9zZTpmb2N1cyB7XFxuICAgIGNvbG9yOiAjMDAwO1xcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gIH1cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksWUFBWTtJQUNaLHNCQUFzQjtJQUN0QixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osYUFBYTtJQUNiLDRCQUE0QjtBQUNoQzs7QUFFQTtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsdUJBQXVCO0lBQ3ZCLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYixlQUFlO0FBQ25COzs7QUFHQSxxQkFBcUI7O0FBRXJCO0lBQ0ksY0FBYyxFQUFFLHNCQUFzQjtJQUN0QyxlQUFlLEVBQUUsa0JBQWtCO0lBQ25DLFVBQVUsRUFBRSxlQUFlO0lBQzNCLGtCQUFrQixFQUFFLHdCQUF3QjtJQUM1QyxPQUFPO0lBQ1AsTUFBTTtJQUNOLFdBQVcsRUFBRSxlQUFlO0lBQzVCLFlBQVksRUFBRSxnQkFBZ0I7SUFDOUIsY0FBYyxFQUFFLDRCQUE0QjtJQUM1Qyw0QkFBNEIsRUFBRSxtQkFBbUI7SUFDakQsaUNBQWlDLEVBQUUscUJBQXFCO0VBQzFEOztFQUVBLGtCQUFrQjtFQUNsQjtJQUNFLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixZQUFZO0lBQ1osbUJBQW1COztFQUVyQjs7R0FFQyxxQkFBcUI7R0FDckI7SUFDQyxjQUFjO0lBQ2QsWUFBWTtJQUNaLGVBQWU7SUFDZixpQkFBaUI7RUFDbkI7O0VBRUE7O0lBRUUsV0FBVztJQUNYLHFCQUFxQjtJQUNyQixlQUFlO0VBQ2pCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcImJvZHkge1xcbiAgICBkaXNwbGF5OmZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbiNtYWluLWJvZHkge1xcbiAgICB3aWR0aDogMTAwdnc7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGp1c3RpZnktY29udGVudDpzcGFjZS1hcm91bmQ7XFxufVxcblxcbi5nYW1lLWJvYXJkIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuLmdyaWQge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LXdyYXA6IHdyYXA7XFxufVxcblxcblxcbi8qSW5zdHJ1Y3Rpb24gU2NyZWVuKi9cXG5cXG4ubW9kYWwge1xcbiAgICBkaXNwbGF5OiBibG9jazsgLyogSGlkZGVuIGJ5IGRlZmF1bHQgKi9cXG4gICAgcG9zaXRpb246IGZpeGVkOyAvKiBTdGF5IGluIHBsYWNlICovXFxuICAgIHotaW5kZXg6IDE7IC8qIFNpdCBvbiB0b3AgKi9cXG4gICAgcGFkZGluZy10b3A6IDEwMHB4OyAvKiBMb2NhdGlvbiBvZiB0aGUgYm94ICovXFxuICAgIGxlZnQ6IDA7XFxuICAgIHRvcDogMDtcXG4gICAgd2lkdGg6IDEwMCU7IC8qIEZ1bGwgd2lkdGggKi9cXG4gICAgaGVpZ2h0OiAxMDAlOyAvKiBGdWxsIGhlaWdodCAqL1xcbiAgICBvdmVyZmxvdzogYXV0bzsgLyogRW5hYmxlIHNjcm9sbCBpZiBuZWVkZWQgKi9cXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDAsMCwwKTsgLyogRmFsbGJhY2sgY29sb3IgKi9cXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjQpOyAvKiBCbGFjayB3LyBvcGFjaXR5ICovXFxuICB9XFxuXFxuICAvKiBNb2RhbCBDb250ZW50ICovXFxuICAubW9kYWwtY29udGVudCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICM5MmUyZWM7XFxuICAgIG1hcmdpbjogYXV0bztcXG4gICAgcGFkZGluZzogMjBweDtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzg4ODtcXG4gICAgd2lkdGg6IDIwMHB4O1xcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xcbiAgIFxcbiAgfVxcblxcbiAgIC8qIFRoZSBDbG9zZSBCdXR0b24gKi9cXG4gICAuY2xvc2Uge1xcbiAgICBjb2xvcjogI2FhYWFhYTtcXG4gICAgZmxvYXQ6IHJpZ2h0O1xcbiAgICBmb250LXNpemU6IDI4cHg7XFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgfVxcbiAgXFxuICAuY2xvc2U6aG92ZXIsXFxuICAuY2xvc2U6Zm9jdXMge1xcbiAgICBjb2xvcjogIzAwMDtcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICB9XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuXG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNbX2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgbW9kdWxlcy5sZW5ndGg7IF9pMisrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pMl0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcblxuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG5cbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG5cbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG5cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cblxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG5cbiAgY3NzICs9IG9iai5jc3M7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJmdW5jdGlvbiBjcmVhdGVTaGlwKCBsZW5ndGggLCBzdGFydFBvcywgb3JpZW50YXRpb24gKSB7XG5cbiAgICBsZXQgcG9zQXJyYXkgPSBbIHN0YXJ0UG9zIF07XG5cbiAgICBmb3IgKCBsZXQgaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAob3JpZW50YXRpb24gPT0gXCJob3Jpem9udGFsXCIpIHtcbiAgICAgICAgICAgIHBvc0FycmF5LnB1c2goIFsgc3RhcnRQb3NbMF0rIGksIHN0YXJ0UG9zWzFdXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIG9yaWVudGF0aW9uID09IFwidmVydGljYWxcIikge1xuICAgICAgICAgICAgcG9zQXJyYXkucHVzaCggW3N0YXJ0UG9zWzBdLCBzdGFydFBvc1sxXSArIGldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQXJyYXlJbkFycmF5KGFyciwgaXRlbSl7XG4gICAgICAgIHZhciBpdGVtX2FzX3N0cmluZyA9IEpTT04uc3RyaW5naWZ5KGl0ZW0pO1xuICAgICAgXG4gICAgICAgIHZhciBjb250YWlucyA9IGFyci5zb21lKGZ1bmN0aW9uKGVsZSl7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGVsZSkgPT09IGl0ZW1fYXNfc3RyaW5nO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5zO1xuICAgICAgfVxuICAgICAgXG4gICAgXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICAgIHN0YXJ0UG9zOnN0YXJ0UG9zLFxuICAgICAgICBwb3NBcnJheSA6IHBvc0FycmF5LFxuICAgICAgICBoaXRzOiBbXSxcbiAgICAgICAgbGVuZ3RoOiBsZW5ndGgsXG4gICAgICAgIG9yaWVudGF0aW9uOiBvcmllbnRhdGlvbixcbiAgICAgICAgLy9wb3NpdGlvbiBzaG91bGQgYmUgYW4gYXJyYXlcbiAgICAgICAgaGl0KCBwb3NpdGlvbikge1xuICAgICAgICAgICAgIGlmIChpc0FycmF5SW5BcnJheSggdGhpcy5wb3NBcnJheSwgcG9zaXRpb24gKSApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImdvdCBoaXRcIilcbiAgICAgICAgICAgICAgICB0aGlzLmhpdHMucHVzaCggcG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpc1N1bmsoKSB7XG4gICAgICAgICAgICBpZiAoIHRoaXMuaGl0cy5sZW5ndGggPT0gdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1vdmUoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBzd2l0Y2goZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRQb3MgPSBbIHRoaXMuc3RhcnRQb3NbMF0gKzEsIHRoaXMuc3RhcnRQb3NbMV0gXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3NBcnJheSA9IHRoaXMucG9zQXJyYXkubWFwKCB4ID0+IFt4WzBdICsgMSwgeFsxXSBdICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRQb3MgPSBbIHRoaXMuc3RhcnRQb3NbMF0tMSwgdGhpcy5zdGFydFBvc1sxXSBdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc0FycmF5ID0gdGhpcy5wb3NBcnJheS5tYXAoIHggPT4gW3hbMF0gLSAxLCB4WzFdIF0gKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRvd25cIjpcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLnN0YXJ0UG9zKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFBvcyA9IFsgdGhpcy5zdGFydFBvc1swXSwgdGhpcy5zdGFydFBvc1sxXSAgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3NBcnJheSA9IHRoaXMucG9zQXJyYXkubWFwKCB4ID0+IFt4WzBdICwgeFsxXSArMSBdICk7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codGhpcy5wb3NBcnJheSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ1cFwiIDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFBvcyA9IFsgdGhpcy5zdGFydFBvc1swXSwgdGhpcy5zdGFydFBvc1sxXSAgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3NBcnJheSA9IHRoaXMucG9zQXJyYXkubWFwKCB4ID0+IFt4WzBdICwgeFsxXSAtMSBdICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG4gICAgICAgIHJvdGF0ZSgpIHtcbiAgICAgICAgICAgIHRoaXMucG9zQXJyYXkubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHRoaXMucG9zQXJyYXkgPSBbIHRoaXMuc3RhcnRQb3MgXTtcbiAgICAgICAgICAgIGlmICggdGhpcy5vcmllbnRhdGlvbiA9PSBcImhvcml6b250YWxcIikge1xuICAgICAgICAgICAgICAgIHRoaXMub3JpZW50YXRpb24gPSBcInZlcnRpY2FsXCI7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWVudGF0aW9uID0gXCJob3Jpem9udGFsXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoIGxldCBpID0gMTsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcmllbnRhdGlvbiA9PSBcImhvcml6b250YWxcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc0FycmF5LnB1c2goIFsgdGhpcy5zdGFydFBvc1swXSsgaSwgdGhpcy5zdGFydFBvc1sxXV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICggdGhpcy5vcmllbnRhdGlvbiA9PSBcInZlcnRpY2FsXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3NBcnJheS5wdXNoKCBbdGhpcy5zdGFydFBvc1swXSwgdGhpcy5zdGFydFBvc1sxXSArIGldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICBcblxuICAgIH1cbn1cblxuZXhwb3J0IHtjcmVhdGVTaGlwfTsiLCJpbXBvcnQgeyBjcmVhdGVTaGlwIH0gZnJvbSBcIi4vU2hpcFwiO1xuXG5mdW5jdGlvbiBjcmVhdGVHYW1lQm9hcmQoKSB7XG5cbiAgICBmdW5jdGlvbiBpc0FycmF5SW5BcnJheShhcnIsIGl0ZW0pe1xuICAgICAgICB2YXIgaXRlbV9hc19zdHJpbmcgPSBKU09OLnN0cmluZ2lmeShpdGVtKTtcbiAgICAgIFxuICAgICAgICB2YXIgY29udGFpbnMgPSBhcnIuc29tZShmdW5jdGlvbihlbGUpe1xuICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShlbGUpID09PSBpdGVtX2FzX3N0cmluZztcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb250YWlucztcbiAgICB9XG5cbiAgICByZXR1cm4gIHtcbiAgICAgICAgc2hpcHMgOiBbXSxcbiAgICAgICAgaGl0cyA6IFtdLFxuICAgICAgICBtaXNzZXMgOiBbXSxcbiAgICAgICAgcGxhY2VTaGlwKCBsZW5ndGgsIHN0YXJ0UG9zLCBvcmllbnRhdGlvbiApIHtcbiAgICAgICAgICAgIGxldCBibG9ja2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHNoaXAgPSBjcmVhdGVTaGlwKCBsZW5ndGgsIHN0YXJ0UG9zLCBvcmllbnRhdGlvbiApO1xuICAgICAgICAgICAgdGhpcy5zaGlwcy5mb3JFYWNoKCBvdGhlclNoaXAgPT4ge1xuICAgICAgICAgICAgICAgIG90aGVyU2hpcC5wb3NBcnJheS5mb3JFYWNoKCBwb3MgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIGlzQXJyYXlJbkFycmF5KHNoaXAucG9zQXJyYXksIHBvcykgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibG9ja2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgaWYgKCFibG9ja2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hpcHMucHVzaCggc2hpcCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcbiAgICAgICAgcmVjZWl2ZUF0dGFjayggcG9zaXRpb24pIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IGlzSGl0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnNoaXBzLmZvckVhY2goIHNoaXAgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzaGlwLmhpdCggcG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGl0cy5wdXNoKCBwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlzSGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoICFpc0hpdCkge1xuICAgICAgICAgICAgICAgIHRoaXMubWlzc2VzLnB1c2gocG9zaXRpb24pO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vcG9zaXRpb24gaGFzIG5vdyBiZWVuIGhpdFxuICAgICAgICB9LCBcbiAgICAgICAgYWxsU3VuaygpIHtcbiAgICAgICAgICAgIGxldCBzdW5rID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc2hpcHMuZm9yRWFjaCggc2hpcCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCAhc2hpcC5pc1N1bmsoKSkge1xuICAgICAgICAgICAgICAgICAgICBzdW5rID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gc3VuaztcbiAgICAgICAgfSxcbiAgICAgICAgLy9CSUcgUFJPQkxFTTogU1RBUlQgSEVSRSwgTU9WRSBET0VTTlQgV09SSyEhISEhISEhISEhISEhISFcbiAgICAgICAgbW92ZSggc2hpcCwgZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBsZXQgY2FuTW92ZSA9IHRydWU7XG4gICAgICAgICAgICBsZXQgbmV3U2hpcDtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCIgeSBjb29yZDogXCIgKyBzaGlwLnBvc0FycmF5WzBdWzFdKTtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coIHNoaXApXG4gICAgICAgICAgICBzd2l0Y2goZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgICAgICAgICAgICAgIG5ld1NoaXAgPSBjcmVhdGVTaGlwKCBzaGlwLmxlbmd0aCwgW3NoaXAucG9zQXJyYXlbMF1bMF0gKzEsIHNoaXAucG9zQXJyYXlbMF1bMV1dLCBzaGlwLm9yaWVudGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImxlZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgbmV3U2hpcCA9IGNyZWF0ZVNoaXAoIHNoaXAubGVuZ3RoLCBbc2hpcC5wb3NBcnJheVswXVswXSAtMSwgc2hpcC5wb3NBcnJheVswXVsxXSBdLCBzaGlwLm9yaWVudGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRvd25cIjpcbiAgICAgICAgICAgICAgICAgICAgbmV3U2hpcCA9IGNyZWF0ZVNoaXAoIHNoaXAubGVuZ3RoLFtzaGlwLnBvc0FycmF5WzBdWzBdLCBzaGlwLnBvc0FycmF5WzBdWzFdICsgMV0sIHNoaXAub3JpZW50YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwidXBcIiA6XG4gICAgICAgICAgICAgICAgICAgIG5ld1NoaXAgPSBjcmVhdGVTaGlwKCBzaGlwLmxlbmd0aCwgW3NoaXAucG9zQXJyYXlbMF1bMF0sIHNoaXAucG9zQXJyYXlbMF1bMV0gLSAxXSAsIHNoaXAub3JpZW50YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCBuZXdTaGlwLnBvc0FycmF5KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKG5ld1NoaXApO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIiB5IGNvb3JkOiBcIiArIG5ld1NoaXAucG9zQXJyYXlbMF1bMV0pO1xuICAgICAgICAgICAgdGhpcy5zaGlwcy5mb3JFYWNoKCBvdGhlclNoaXAgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChvdGhlclNoaXAgIT0gc2hpcCkge1xuICAgICAgICAgICAgICAgICAgICBvdGhlclNoaXAucG9zQXJyYXkuZm9yRWFjaChwb3MgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXlJbkFycmF5KG5ld1NoaXAucG9zQXJyYXksIHBvcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImFub3RoZXJzaGlwIGluIHRoZSB3YXkhISFcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5Nb3ZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbmV3U2hpcC5wb3NBcnJheS5mb3JFYWNoKCBwb3MgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIHBvc1swXSA+IDkgfHwgcG9zWzFdID4gOSB8fCBwb3NbMF0gPCAwIHx8IHBvc1sxXSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVhY2hlZCB0aGUgYm9yZGVyISFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5Nb3ZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJjYW4gbW92ZTpcIiArIGNhbk1vdmUgKyBcIiBpbiBcIiArZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIGlmIChjYW5Nb3ZlKSB7XG4gICAgICAgICAgICAgICAgc2hpcC5tb3ZlKGRpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zaGlwcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJvdGF0ZSggc2hpcCApIHtcbiAgICAgICAgICAgIGxldCBjYW5Sb3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgbGV0IG5ld1NoaXA7XG4gICAgICAgICAgICBpZiAoIHNoaXAub3JpZW50YXRpb24gPT0gXCJob3Jpem9udGFsXCIpIHtcbiAgICAgICAgICAgICAgICAvL3dhbnQgdG8gcm90YXRlIHRvIHZlcnRpY2FsXG4gICAgICAgICAgICAgICAgbmV3U2hpcCA9IGNyZWF0ZVNoaXAoIHNoaXAubGVuZ3RoLCBzaGlwLnBvc0FycmF5WzBdLCBcInZlcnRpY2FsXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3U2hpcCA9IGNyZWF0ZVNoaXAoIHNoaXAubGVuZ3RoLCBzaGlwLnBvc0FycmF5WzBdLCBcImhvcml6b250YWxcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2hpcHMuZm9yRWFjaCggb3RoZXJTaGlwID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJTaGlwICE9IHNoaXApIHtcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJTaGlwLnBvc0FycmF5LmZvckVhY2gocG9zID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5SW5BcnJheShuZXdTaGlwLnBvc0FycmF5LCBwb3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJhbm90aGVyc2hpcCBpbiB0aGUgd2F5ISEhXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuUm90YXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbmV3U2hpcC5wb3NBcnJheS5mb3JFYWNoKCBwb3MgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIHBvc1swXSA+IDkgfHwgcG9zWzFdID4gOSB8fCBwb3NbMF0gPCAwIHx8IHBvc1sxXSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVhY2hlZCB0aGUgYm9yZGVyISFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5Sb3RhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyggXCJjYW4gcm90YXRlOiBcIiArIGNhblJvdGF0ZSApO1xuICAgICAgICAgICAgaWYgKGNhblJvdGF0ZSkge1xuICAgICAgICAgICAgICAgIHNoaXAucm90YXRlKCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zaGlwcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCB7Y3JlYXRlR2FtZUJvYXJkfTsiLCJcbmZ1bmN0aW9uIGNyZWF0ZVBsYXllcihnYW1lQm9hcmQgLCBlbmVteUdhbWVib2FyZCwgaXNDb21wdXRlciApIHtcbiAgICBcbiAgICBcbiAgICBmdW5jdGlvbiBpc0FycmF5SW5BcnJheShhcnIsIGl0ZW0pe1xuICAgICAgICB2YXIgaXRlbV9hc19zdHJpbmcgPSBKU09OLnN0cmluZ2lmeShpdGVtKTtcbiAgICAgIFxuICAgICAgICB2YXIgY29udGFpbnMgPSBhcnIuc29tZShmdW5jdGlvbihlbGUpe1xuICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShlbGUpID09PSBpdGVtX2FzX3N0cmluZztcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb250YWlucztcbiAgICB9XG5cbiAgICBpZiAoIGlzQ29tcHV0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdhbWVCb2FyZDpnYW1lQm9hcmQsXG4gICAgICAgICAgICBlbmVteUdhbWVib2FyZDogZW5lbXlHYW1lYm9hcmQsXG4gICAgICAgICAgICB0cmllczogW10sXG4gICAgICAgICAgICAvL21ha2Ugc3VyZSB0aGF0IGNvbXB1dGVyIGNhbm5vdCBhdHRhY2sgcG9zaXRpb25zIHRoYXQgYXJlIGluIG1pc3NlcyBvciBoaXRzISEhISEhIVxuICAgICAgICAgICAgYXR0YWNrRW5lbXkoKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJhbmRvbVBvc2l0aW9uID0gW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSwgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApXTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoIGlzQXJyYXlJbkFycmF5KCB0aGlzLnRyaWVzLCByYW5kb21Qb3NpdGlvbikpe1xuICAgICAgICAgICAgICAgICAgICByYW5kb21Qb3NpdGlvbiA9IFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCksIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudHJpZXMucHVzaCggcmFuZG9tUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGVuZW15R2FtZWJvYXJkLnJlY2VpdmVBdHRhY2soIHJhbmRvbVBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gIHtcbiAgICAgICAgZ2FtZUJvYXJkOmdhbWVCb2FyZCxcbiAgICAgICAgZW5lbXlHYW1lYm9hcmQ6ZW5lbXlHYW1lYm9hcmQsXG4gICAgICAgIHRyaWVzOltdLFxuICAgICAgICBhdHRhY2tFbmVteSggIHBvc2l0aW9uICkge1xuICAgICAgICAgICAgaWYgKCAhaXNBcnJheUluQXJyYXkoIHRoaXMudHJpZXMsIHBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgIGVuZW15R2FtZWJvYXJkLnJlY2VpdmVBdHRhY2soIHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWVzLnB1c2goIHBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5leHBvcnQge2NyZWF0ZVBsYXllcn07IiwiLy9maXJzdCBjcmVhdGUgYSBmcmFtZSB0aGF0IHN0YXlzIHN0YXRpYyB0aHJvdWdob3V0XG5pbXBvcnQgeyBjaGVja1dpbm5lciwgZ2V0UGxheWVyLCBnZXRDb21wdXRlciwgZ2V0VHVybiwgc3RhcnQsIGdldEdhbWVTdGFydGVkLCBnZXRHYW1lRW5kZWQgLCByZXNldCB9IGZyb20gXCIuL0dhbWUuanNcIjtcblxuLy9pbXBvcnQgeyBwbGF5ZXIsIGNvbXB1dGVyLCB0dXJufSBmcm9tIFwiLi9HYW1lLmpzXCI7XG5sZXQgc2VsZWN0ZWRTaGlwO1xuXG5mdW5jdGlvbiBjcmVhdGVNYWluKCkge1xuXG5cbiAgICBsZXQgZG9jdW1lbnRCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIik7XG5cbiAgICAvL2xldCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAvL2NvbnRlbnQuaWQgPSBcImNvbnRlbnRcIjtcblxuICAgIC8vaW5zdHJ1Y3Rpb24gc2NyZWVuXG4gICAgY3JlYXRlSW5zdHJ1Y3Rpb25zKCk7XG4gICAgZ2FtZU92ZXJTY3JlZW4oKTtcblxuXG4gICAgLy8gPGRpdiBpZD1cIm15TW9kYWxcIiBjbGFzcz1cIm1vZGFsXCI+XG5cbiAgICAvLyAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAvLyAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2xvc2VcIj4mdGltZXM7PC9zcGFuPlxuICAgIC8vICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm1cIj5cbiAgICAvLyAgICAgICAgICAgICA8cD5BZGQgTmV3IEJvb2s8L3A+XG4gICAgLy8gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCIgVGl0bGVcIiBuYW1lPVwidGl0bGVcIiBpZD1cIm15VGl0bGVcIiByZXF1aXJlZD5cbiAgICAvLyAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIiBBdXRob3JcIiBuYW1lPVwiYXV0aG9yXCIgaWQ9XCJteUF1dGhvclwiIHJlcXVpcmVkPlxuICAgIC8vICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgcGxhY2Vob2xkZXI9XCIgUGFnZXNcIiBuYW1lPVwicGFnZXNcIiBpZD1cIm15UGFnZXNcIiByZXF1aXJlZD5cbiAgICAvLyAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVhZC1jb250YWluZXJcIj5cbiAgICAvLyAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInJlYWRcIj5SZWFkL1VucmVhZDwvbGFiZWw+XG4gICAgLy8gICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwicmVhZE9yTm90XCIgdmFsdWU9XCJyZWFkXCIgaWQ9XCJteVJlYWRcIj5cblxuICAgIC8vICAgICAgICAgICAgIDwvZGl2PlxuICAgIC8vICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJmb3JtLXN1Ym1pdFwiIHR5cGU9XCJidXR0b25cIj5TdWJtaXQ8L2J1dHRvbj5cbiAgICAvLyAgICAgICAgIDwvZGl2PlxuICAgIC8vICAgICA8L2Rpdj5cblxuICAgIC8vIDwvZGl2PlxuXG4gICAgbGV0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoZWFkZXJcIik7XG4gICAgaGVhZGVyLmlubmVySFRNTCA9IFwiQmF0dGxlc2hpcFwiO1xuICAgIGhlYWRlci5pZCA9IFwiaGVhZGVyXCI7XG5cbiAgICBsZXQgc2Vjb25kYXJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO1xuICAgIHNlY29uZGFyeS5pbm5lckhUTUwgPSBcIlBsYWNlIHlvdXIgU2hpcHMhXCI7XG4gICAgc2Vjb25kYXJ5LmlkID0gXCJzZWNvbmRhcnlcIjtcblxuICAgIGxldCBzdGFydEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgc3RhcnRCdG4uaW5uZXJIVE1MID0gXCJTdGFydCBHYW1lXCI7XG4gICAgc3RhcnRCdG4uaWQgPSBcInN0YXJ0LWJ1dHRvblwiO1xuXG4gICAgbGV0IG1haW5Cb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBtYWluQm9keS5pZCA9IFwibWFpbi1ib2R5XCI7XG5cbiAgICBsZXQgcGxheWVyQm9hcmQgPSBjcmVhdGVHYW1lQm9hcmQoKTtcblxuICAgIGxldCBjb21wdXRlckJvYXJkID0gY3JlYXRlQ29tcHV0ZXJCb2FyZCgpO1xuXG4gICAgbWFpbkJvZHkuYXBwZW5kQ2hpbGQocGxheWVyQm9hcmQpO1xuICAgIG1haW5Cb2R5LmFwcGVuZENoaWxkKGNvbXB1dGVyQm9hcmQpO1xuXG5cbiAgICBsZXQgaGVscEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgaGVscEJ0bi5pbm5lckhUTUwgPSBcIkhlbHBcIjtcbiAgICBoZWxwQnRuLmlkID0gXCJoZWxwLWJ1dHRvblwiO1xuXG4gICAgZG9jdW1lbnRCb2R5LmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgZG9jdW1lbnRCb2R5LmFwcGVuZENoaWxkKHNlY29uZGFyeSk7XG4gICAgZG9jdW1lbnRCb2R5LmFwcGVuZENoaWxkKHN0YXJ0QnRuKTtcbiAgICBkb2N1bWVudEJvZHkuYXBwZW5kQ2hpbGQobWFpbkJvZHkpO1xuICAgIGRvY3VtZW50Qm9keS5hcHBlbmRDaGlsZChoZWxwQnRuKTtcblxuICAgIC8vZG9jdW1lbnRCb2R5LmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgIHVwZGF0ZSgpO1xuXG4gICAgY3JlYXRlSGFuZGxlcnMoKTtcblxuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUluc3RydWN0aW9ucygpIHtcbiAgICBsZXQgZG9jdW1lbnRCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIik7XG5cbiAgICAvL2xldCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAvL2NvbnRlbnQuaWQgPSBcImNvbnRlbnRcIjtcblxuICAgIC8vaW5zdHJ1Y3Rpb24gc2NyZWVuXG4gICAgbGV0IGluc3RydWN0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaW5zdHJ1Y3Rpb25zLmlkID0gXCJpbnN0cnVjdGlvbnNcIjtcbiAgICBpbnN0cnVjdGlvbnMuY2xhc3NOYW1lID0gXCJtb2RhbFwiO1xuXG4gICAgbGV0IGluc3RydWN0aW9uc0NvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGluc3RydWN0aW9uc0NvbnRlbnQuY2xhc3NOYW1lID0gXCJtb2RhbC1jb250ZW50XCI7XG4gICAgaW5zdHJ1Y3Rpb25zQ29udGVudC5pbm5lckhUTUwgPSBcIkluc3RydWN0aW9uc1wiO1xuXG4gICAgbGV0IGNsb3NlSW5zdHJ1Y3Rpb25zQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgY2xvc2VJbnN0cnVjdGlvbnNCdG4uY2xhc3NOYW1lID0gXCJjbG9zZVwiO1xuICAgIGNsb3NlSW5zdHJ1Y3Rpb25zQnRuLmlkID0gXCJjbG9zZS1pbnN0cnVjdGlvbnMtYnV0dG9uXCI7XG4gICAgY2xvc2VJbnN0cnVjdGlvbnNCdG4uaW5uZXJIVE1MID0gXCImdGltZXM7XCI7XG5cbiAgICBpbnN0cnVjdGlvbnNDb250ZW50LmFwcGVuZENoaWxkKGNsb3NlSW5zdHJ1Y3Rpb25zQnRuKTtcbiAgICBpbnN0cnVjdGlvbnMuYXBwZW5kQ2hpbGQoIGluc3RydWN0aW9uc0NvbnRlbnQpO1xuICAgIGRvY3VtZW50Qm9keS5hcHBlbmRDaGlsZChpbnN0cnVjdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBnYW1lT3ZlclNjcmVlbigpIHtcbiAgICBsZXQgZG9jdW1lbnRCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIik7XG5cbiAgICAvL2xldCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAvL2NvbnRlbnQuaWQgPSBcImNvbnRlbnRcIjtcblxuICAgIC8vaW5zdHJ1Y3Rpb24gc2NyZWVuXG4gICAgbGV0IGdhbWVPdmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBnYW1lT3Zlci5pZCA9IFwiZ2FtZU92ZXJcIjtcbiAgICBnYW1lT3Zlci5jbGFzc05hbWUgPSBcIm1vZGFsXCI7XG4gICAgZ2FtZU92ZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gICAgbGV0IGdhbWVPdmVyQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZ2FtZU92ZXJDb250ZW50LmNsYXNzTmFtZSA9IFwibW9kYWwtY29udGVudFwiO1xuICAgIGdhbWVPdmVyQ29udGVudC5pbm5lckhUTUwgPSBcIkdhbWUgT3ZlclwiO1xuXG4gICAgbGV0IGdhbWVPdmVyQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgZ2FtZU92ZXJCdG4uY2xhc3NOYW1lID0gXCJjbG9zZVwiO1xuICAgIGdhbWVPdmVyQnRuLmlkID0gXCJjbG9zZS1nYW1lLWJ1dHRvblwiO1xuICAgIGdhbWVPdmVyQnRuLmlubmVySFRNTCA9IFwiJnRpbWVzO1wiO1xuXG4gICAgZ2FtZU92ZXJDb250ZW50LmFwcGVuZENoaWxkKGdhbWVPdmVyQnRuKTtcbiAgICBnYW1lT3Zlci5hcHBlbmRDaGlsZCggZ2FtZU92ZXJDb250ZW50KTtcbiAgICBkb2N1bWVudEJvZHkuYXBwZW5kQ2hpbGQoZ2FtZU92ZXIpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVHYW1lQm9hcmQoKSB7XG5cbiAgICBsZXQgcGxheWVyQm9hcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHBsYXllckJvYXJkLmNsYXNzTmFtZSA9IFwiZ2FtZS1ib2FyZFwiO1xuICAgIHBsYXllckJvYXJkLmlkID0gXCJwbGF5ZXItYm9hcmRcIjtcblxuICAgIGxldCBncmlkID0gY3JlYXRlR3JpZChcInBsYXllclwiKTtcblxuICAgIGxldCBib2FyZE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBib2FyZE5hbWUuaW5uZXJIVE1MID0gXCJQbGF5ZXIgYm9hcmRcIjtcbiAgICBib2FyZE5hbWUuY2xhc3NOYW1lID0gXCJib2FyZC1uYW1lXCI7XG5cbiAgICBwbGF5ZXJCb2FyZC5hcHBlbmRDaGlsZChncmlkKTtcbiAgICBwbGF5ZXJCb2FyZC5hcHBlbmRDaGlsZChib2FyZE5hbWUpO1xuXG4gICAgcmV0dXJuIHBsYXllckJvYXJkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVDb21wdXRlckJvYXJkKCkge1xuICAgIGxldCBjb21wdXRlckJvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb21wdXRlckJvYXJkLmNsYXNzTmFtZSA9IFwiZ2FtZS1ib2FyZFwiO1xuICAgIGNvbXB1dGVyQm9hcmQuaWQgPSBcImNvbXB1dGVyLWJvYXJkXCI7XG5cbiAgICBsZXQgZ3JpZCA9IGNyZWF0ZUdyaWQoXCJjb21wdXRlclwiKTtcblxuICAgIGxldCBib2FyZE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBib2FyZE5hbWUuaW5uZXJIVE1MID0gXCJDb21wdXRlciBib2FyZFwiO1xuICAgIGJvYXJkTmFtZS5jbGFzc05hbWUgPSBcImJvYXJkLW5hbWVcIjtcblxuICAgIGNvbXB1dGVyQm9hcmQuYXBwZW5kQ2hpbGQoZ3JpZCk7XG4gICAgY29tcHV0ZXJCb2FyZC5hcHBlbmRDaGlsZChib2FyZE5hbWUpO1xuXG4gICAgcmV0dXJuIGNvbXB1dGVyQm9hcmQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUdyaWQobmFtZSkge1xuICAgIGxldCBncmlkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBncmlkLmNsYXNzTmFtZSA9IFwiZ3JpZFwiO1xuICAgIC8vZm9yIHRlc3RpbmcgcHVycG9zZXNcbiAgICBncmlkLnN0eWxlLndpZHRoID0gXCI1MjJweFwiO1xuICAgIGdyaWQuc3R5bGUuaGVpZ2h0ID0gXCI1MTFweFwiO1xuICAgIC8vZW5kXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaisrKSB7XG4gICAgICAgICAgICBsZXQgdW5pdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICAgICAgICAgIC8vZm9yIHRlc3RpbmcgcHVycG9zZXMgb25seVxuICAgICAgICAgICAgdW5pdC5zdHlsZS53aWR0aCA9IFwiNTBweFwiO1xuICAgICAgICAgICAgdW5pdC5zdHlsZS5oZWlnaHQgPSBcIjUwcHhcIjtcbiAgICAgICAgICAgIHVuaXQuc3R5bGUuYm9yZGVyU3R5bGUgPSBcInNvbGlkXCI7XG4gICAgICAgICAgICB1bml0LnN0eWxlLmJvcmRlcldpZHRoID0gXCIxcHhcIjtcbiAgICAgICAgICAgIHVuaXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJibHVlXCJcblxuICAgICAgICAgICAgLy9lbmRcbiAgICAgICAgICAgIHVuaXQuY2xhc3NOYW1lID0gXCJ1bml0XCI7XG4gICAgICAgICAgICB1bml0LmlkID0gaiArIFwifFwiICsgaSArIFwifFwiICsgbmFtZTtcbiAgICAgICAgICAgIGdyaWQuYXBwZW5kQ2hpbGQodW5pdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZ3JpZDtcbn1cblxuXG4vL2Z1bmN0aW9uIHNob3VsZCByZWNpZXZlIGdhbWVib2FyZCBhbmQgcGxheWVyIGFuZCBjcmVhdGUgc29tZXRoaW5nIG91dCBvZiB0aGF0LCBcblxuXG5mdW5jdGlvbiB1cGRhdGUoKSB7XG5cbiAgICAvL3BsYWNlIHRoZSBzaGlwc1xuXG4gICAgcGxhY2VTaGlwcyhnZXRQbGF5ZXIoKS5nYW1lQm9hcmQuc2hpcHMsIFwicGxheWVyXCIpO1xuICAgIHBsYWNlU2hpcHMoZ2V0Q29tcHV0ZXIoKS5nYW1lQm9hcmQuc2hpcHMsIFwiY29tcHV0ZXJcIik7XG5cbiAgICAvL21hcmsgcmVkIHRoZSBoaXQgdW5pdHNcbiAgICBtYXJrSGl0KGdldFBsYXllcigpLmdhbWVCb2FyZC5oaXRzLCBcInBsYXllclwiKTtcbiAgICBtYXJrTWlzc2VzKGdldFBsYXllcigpLmdhbWVCb2FyZC5taXNzZXMsIFwicGxheWVyXCIpO1xuXG4gICAgbWFya0hpdChnZXRDb21wdXRlcigpLmdhbWVCb2FyZC5oaXRzLCBcImNvbXB1dGVyXCIpO1xuICAgIG1hcmtNaXNzZXMoZ2V0Q29tcHV0ZXIoKS5nYW1lQm9hcmQubWlzc2VzLCBcImNvbXB1dGVyXCIpO1xuXG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVNoaXBzKCkge1xuICAgIFxuICAgIGxldCBzaGlwVW5pdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNoaXBcIik7XG4gICAgQXJyYXkuZnJvbShzaGlwVW5pdHMpLmZvckVhY2goIHVuaXQgPT4ge1xuICAgICAgICB1bml0LmNsYXNzTGlzdC5yZW1vdmUoXCJzaGlwXCIpO1xuICAgICAgICB1bml0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiYmx1ZVwiO1xuICAgIH0pXG5cbiAgICBwbGFjZVNoaXBzKCBnZXRQbGF5ZXIoKS5nYW1lQm9hcmQuc2hpcHMsIFwicGxheWVyXCIpO1xuICAgIHBsYWNlU2hpcHMoIGdldENvbXB1dGVyKCkuZ2FtZUJvYXJkLnNoaXBzLCBcImNvbXB1dGVyXCIpO1xuXG59XG5cblxuXG5mdW5jdGlvbiBwbGFjZVNoaXBzKHNoaXBzLCBuYW1lKSB7XG4gICAgc2hpcHMuZm9yRWFjaChzaGlwID0+IFtcbiAgICAgICAgc2hpcC5wb3NBcnJheS5mb3JFYWNoKHBvcyA9PiB7XG4gICAgICAgICAgICBsZXQgcG9zaXRpb24gPSBwb3NbMF0gKyBcInxcIiArIHBvc1sxXSArIFwifFwiICsgbmFtZTtcbiAgICAgICAgICAgIGxldCB1bml0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocG9zaXRpb24pO1xuICAgICAgICAgICAgdW5pdC5jbGFzc0xpc3QuYWRkKFwic2hpcFwiKTtcbiAgICAgICAgICAgIC8vV2FudCB0byBjaGFuZ2UgY29sb3IgdG8gYmx1ZSBpZiBjb21wdXRlciBpcyBwbGF5aW5nXG4gICAgICAgICAgICB1bml0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiYmxhY2tcIjtcbiAgICAgICAgfSlcbiAgICBdKVxufVxuXG5mdW5jdGlvbiBtYXJrSGl0KGhpdHMsIG5hbWUpIHtcbiAgICBoaXRzLmZvckVhY2goaGl0ID0+IHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImhpdDogKyBcIiArIGhpdCk7XG5cbiAgICAgICAgbGV0IHBvc2l0aW9uID0gaGl0WzBdICsgXCJ8XCIgKyBoaXRbMV0gKyBcInxcIiArIG5hbWU7XG4gICAgICAgIGxldCB1bml0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocG9zaXRpb24pO1xuICAgICAgICB1bml0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgfSlcbn1cbmZ1bmN0aW9uIG1hcmtNaXNzZXMobWlzc2VzLCBuYW1lKSB7XG4gICAgbWlzc2VzLmZvckVhY2gobWlzcyA9PiB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJtaXNzOiArIFwiICsgbWlzcyk7XG4gICAgICAgIGxldCBwb3NpdGlvbiA9IG1pc3NbMF0gKyBcInxcIiArIG1pc3NbMV0gKyBcInxcIiArIG5hbWU7XG4gICAgICAgIGxldCB1bml0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocG9zaXRpb24pO1xuICAgICAgICB1bml0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ3JleVwiO1xuICAgIH0pXG59XG5cbi8vRVZFTlQgSEFORExFUlNcblxuZnVuY3Rpb24gY3JlYXRlSGFuZGxlcnMoKSB7XG5cbiAgICBsZXQgc3RhcnRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXJ0LWJ1dHRvblwiKTtcbiAgICBzdGFydEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCk9PiB7XG4gICAgICAgIC8vbXVsdGlwbGUgZnVuY3Rpb25zXG4gICAgICAgIGlmICggc3RhcnRCdG4uaW5uZXJIVE1MID09IFwiU3RhcnQgR2FtZVwiKSB7XG4gICAgICAgICAgICBzdGFydCgpO1xuICAgICAgICAgICAgc3RhcnRCdG4uaW5uZXJIVE1MID0gXCJSZXNldCBHYW1lXCI7XG5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICggc3RhcnRCdG4uaW5uZXJIVE1MID09IFwiUmVzZXQgR2FtZVwiKSB7XG4gICAgICAgICAgICBzdGFydEJ0bi5pbm5lckhUTUwgPSBcIlN0YXJ0IEdhbWVcIjtcbiAgICAgICAgICAgIGxldCBkb2N1bWVudEJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcbiAgICAgICAgICAgIHdoaWxlKGRvY3VtZW50Qm9keS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnRCb2R5LnJlbW92ZUNoaWxkKGRvY3VtZW50Qm9keS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgICAgICBsZXQgaW5zdHJ1Y3Rpb25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnN0cnVjdGlvbnNcIik7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbnMuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgZ3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29tcHV0ZXItYm9hcmRcIik7XG4gICAgZ3JpZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgaWYgKCAhZ2V0R2FtZUVuZGVkKCkgJiYgZ2V0R2FtZVN0YXJ0ZWQoKSAmJiBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJ1bml0XCIpICYmIGdldFR1cm4oKSA9PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICBhdHRhY2soZS50YXJnZXQuaWQpO1xuICAgICAgICAgICAgLy8gdXBkYXRlKCk7XG4gICAgICAgICAgICAvLyBjaGVja1dpbm5lcigpO1xuICAgICAgICB9XG4gICAgfSlcblxuICAgIGxldCBwbGF5ZXJHcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5ZXItYm9hcmRcIik7XG4gICAgcGxheWVyR3JpZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgaWYgKCFnZXRHYW1lRW5kZWQoKSAmJiAhZ2V0R2FtZVN0YXJ0ZWQoKSAmJiBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJzaGlwXCIpKSB7XG4gICAgICAgICAgICBzaGlwQ2xpY2tlZChlKTtcbiAgICAgICAgfSAgICAgIFxuICAgIH0pXG5cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgZ2V0UGxheWVyKCkuZ2FtZUJvYXJkLnNoaXBzLmZvckVhY2goc2hpcCA9PiB7XG4gICAgICAgICAgICBzaGlwLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgIH0pXG5cbiAgICB9KVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgIHJldHVybjsgXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZihzZWxlY3RlZFNoaXApICE9IFwidW5kZWZpbmVkXCIgJiYgIWdldEdhbWVTdGFydGVkKCkpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkFycm93RG93blwiOlxuICAgICAgICAgICAgICAgICAgICBnZXRQbGF5ZXIoKS5nYW1lQm9hcmQubW92ZSggc2VsZWN0ZWRTaGlwLCBcImRvd25cIik7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiQXJyb3dVcFwiOlxuICAgICAgICAgICAgICAgICAgICBnZXRQbGF5ZXIoKS5nYW1lQm9hcmQubW92ZSggc2VsZWN0ZWRTaGlwLCBcInVwXCIpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkFycm93TGVmdFwiOlxuICAgICAgICAgICAgICAgICAgICBnZXRQbGF5ZXIoKS5nYW1lQm9hcmQubW92ZSggc2VsZWN0ZWRTaGlwLCBcImxlZnRcIik7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiQXJyb3dSaWdodFwiOlxuICAgICAgICAgICAgICAgICAgICBnZXRQbGF5ZXIoKS5nYW1lQm9hcmQubW92ZSggc2VsZWN0ZWRTaGlwLCBcInJpZ2h0XCIpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIiBcIjpcbiAgICAgICAgICAgICAgICAgICAgZ2V0UGxheWVyKCkuZ2FtZUJvYXJkLnJvdGF0ZSggc2VsZWN0ZWRTaGlwKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICByZXR1cm47IFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlU2hpcHMoKTtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSwgdHJ1ZSk7XG5cblxuXG4gICAgICBpbnN0cnVjdGlvbkhhbmRsZXJzKCk7XG5cbn1cblxuZnVuY3Rpb24gaW5zdHJ1Y3Rpb25IYW5kbGVycygpIHtcbiAgICBsZXQgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluc3RydWN0aW9uc1wiKTtcbiAgICBsZXQgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsb3NlLWluc3RydWN0aW9ucy1idXR0b25cIik7XG4gICAgbGV0IG9wZW5CdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlbHAtYnV0dG9uXCIpO1xuXG4gICAgb3BlbkJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG4gICAgfVxuICAgIGNsb3NlQnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG4gICAgd2luZG93Lm9uY2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PSBtb2RhbCkge1xuICAgICAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmZ1bmN0aW9uIGdhbWVPdmVySGFuZGxlcigpIHtcbiAgICBsZXQgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVPdmVyXCIpO1xuICAgIGxldCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xvc2UtZ2FtZS1idXR0b25cIik7XG5cbiAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG4gICAgY2xvc2VCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgICB3aW5kb3cub25jbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09IG1vZGFsKSB7XG4gICAgICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuXG5mdW5jdGlvbiBhdHRhY2sodW5pdElkKSB7XG4gICAgbGV0IHBvc2l0aW9uID0gdW5pdElkLnNwbGl0KFwifFwiKTtcbiAgICBjb25zb2xlLmxvZyhcImF0dGFjayBjbGlja2VkIVwiKVxuICAgIGxldCBwb3MgPSBbcGFyc2VJbnQocG9zaXRpb25bMF0pLCBwYXJzZUludChwb3NpdGlvblsxXSldO1xuICAgIGlmIChwb3NpdGlvblsyXSA9PSBcImNvbXB1dGVyXCIgJiYgIWlzQXJyYXlJbkFycmF5KCBnZXRQbGF5ZXIoKS50cmllcywgcG9zICkgKSB7XG4gICAgICAgIGdldFBsYXllcigpLmF0dGFja0VuZW15KHBvcyk7XG4gICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICBjaGVja1dpbm5lcigpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKCBwbGF5ZXIuZW5lbXlHYW1lYm9hcmQubWlzc2VzKVxuICAgIH1cblxuICAgIC8vIHVwZGF0ZSgpO1xuICAgIC8vIGNoZWNrV2lubmVyKCk7XG5cbn1cblxuZnVuY3Rpb24gc2hpcENsaWNrZWQoZSkge1xuICAgIGxldCBwb3NpdGlvbiA9IGUudGFyZ2V0LmlkLnNwbGl0KFwifFwiKTtcbiAgICBpZiAocG9zaXRpb25bMl0gPT0gXCJwbGF5ZXJcIiApIHtcblxuICAgICAgICBsZXQgc2VsZWN0ZWRQb3MgPSBbcGFyc2VJbnQocG9zaXRpb25bMF0pLCBwYXJzZUludChwb3NpdGlvblsxXSldO1xuICAgICAgICBnZXRQbGF5ZXIoKS5nYW1lQm9hcmQuc2hpcHMuZm9yRWFjaChzaGlwID0+IHtcbiAgICAgICAgICAgIHNoaXAuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHNoaXAucG9zQXJyYXkuZm9yRWFjaChwb3MgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShzZWxlY3RlZFBvcykgPT0gSlNPTi5zdHJpbmdpZnkocG9zKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFNoaXAgPSBzaGlwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgc2VsZWN0ZWRTaGlwLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgY29uc29sZS5sb2coXCJzZWxlY3RlZFwiICsgc2VsZWN0ZWRTaGlwKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gaXNBcnJheUluQXJyYXkoYXJyLCBpdGVtKXtcbiAgICB2YXIgaXRlbV9hc19zdHJpbmcgPSBKU09OLnN0cmluZ2lmeShpdGVtKTtcbiAgXG4gICAgdmFyIGNvbnRhaW5zID0gYXJyLnNvbWUoZnVuY3Rpb24oZWxlKXtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShlbGUpID09PSBpdGVtX2FzX3N0cmluZztcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGFpbnM7XG59XG5cblxuZXhwb3J0IHsgY3JlYXRlTWFpbiwgdXBkYXRlLCBnYW1lT3ZlclNjcmVlbiwgZ2FtZU92ZXJIYW5kbGVyIH07IiwiaW1wb3J0IHsgY3JlYXRlR2FtZUJvYXJkIH0gZnJvbSBcIi4vR2FtZWJvYXJkLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVQbGF5ZXIgfSBmcm9tIFwiLi9QbGF5ZXIuanNcIjtcbmltcG9ydCB7IGNyZWF0ZVNoaXAgfSBmcm9tIFwiLi9TaGlwLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVNYWluIH0gZnJvbSBcIi4vRE9NXCI7XG5pbXBvcnQgeyB1cGRhdGUsIGdhbWVPdmVyU2NyZWVuLCBnYW1lT3ZlckhhbmRsZXIgfSBmcm9tIFwiLi9ET01cIjtcblxubGV0IHR1cm4gPSBcInBsYXllclwiO1xubGV0IGdhbWVTdGFydGVkID0gZmFsc2U7XG5sZXQgZ2FtZUVuZGVkID0gZmFsc2U7XG5cbmxldCBwbGF5ZXJCb2FyZDtcbmxldCBjb21wdXRlckJvYXJkO1xuXG5sZXQgcGxheWVyO1xubGV0IGNvbXB1dGVyO1xuXG5mdW5jdGlvbiBzdGFydEdhbWUoKSB7XG4gICAgcGxheWVyQm9hcmQgPSBjcmVhdGVHYW1lQm9hcmQoKTtcbiAgICBjb21wdXRlckJvYXJkID0gY3JlYXRlR2FtZUJvYXJkKCk7XG4gICAgcGxhY2VQbGF5ZXJTaGlwcygpO1xuICAgIHBsYWNlQ29tcFNoaXBzKCk7XG4gICAgcGxheWVyID0gY3JlYXRlUGxheWVyKHBsYXllckJvYXJkLCBjb21wdXRlckJvYXJkLCBmYWxzZSk7XG4gICAgY29tcHV0ZXIgPSBjcmVhdGVQbGF5ZXIoY29tcHV0ZXJCb2FyZCwgcGxheWVyQm9hcmQsIHRydWUpO1xuXG4gICAgcGxheWVyLmF0dGFja0VuZW15KFswLCAxXSk7XG4gICAgcGxheWVyLmF0dGFja0VuZW15KFs1LCA1XSk7XG5cbiAgICBjb21wdXRlci5hdHRhY2tFbmVteSgpO1xuICAgIGNvbXB1dGVyLmF0dGFja0VuZW15KCk7XG5cbiAgICBjcmVhdGVNYWluKHBsYXllciwgY29tcHV0ZXIsIHR1cm4pO1xuXG5cbn1cblxuZnVuY3Rpb24gcGxhY2VQbGF5ZXJTaGlwcygpIHtcbiAgICBwbGF5ZXJCb2FyZC5wbGFjZVNoaXAoIDUsIFswLDBdLCBcInZlcnRpY2FsXCIpO1xuICAgIHBsYXllckJvYXJkLnBsYWNlU2hpcCggNCwgWzEsMF0sIFwidmVydGljYWxcIik7XG4gICAgcGxheWVyQm9hcmQucGxhY2VTaGlwKCAzLCBbMiwwXSwgXCJ2ZXJ0aWNhbFwiKTtcbiAgICBwbGF5ZXJCb2FyZC5wbGFjZVNoaXAoIDMsIFszLDBdLCBcInZlcnRpY2FsXCIpO1xuICAgIHBsYXllckJvYXJkLnBsYWNlU2hpcCggMiwgWzQsMF0sIFwidmVydGljYWxcIik7XG5cbn1cblxuZnVuY3Rpb24gcGxhY2VDb21wU2hpcHMoKXtcblxuICAgIC8vd2hpbGUoIGNvbXB1dGVyQm9hcmQuc2hpcHMubGVuZ3RoICE9IDEpIHtcbiAgICBjb21wdXRlckJvYXJkLnBsYWNlU2hpcCg1LCBbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNSksIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUpXSwgXG4gICAgICAgIE1hdGgucmFuZG9tKCkgPiAuNSA/IFwiaG9yaXpvbnRhbFwiIDpcInZlcnRpY2FsXCIpO1xuICAgIC8vfVxuICAgIHdoaWxlKCBjb21wdXRlckJvYXJkLnNoaXBzLmxlbmd0aCAhPSAyKSB7XG5cbiAgICBjb21wdXRlckJvYXJkLnBsYWNlU2hpcCg0LCBbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNiksIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDYpXSwgXG4gICAgICAgIE1hdGgucmFuZG9tKCkgPiAuNSA/IFwiaG9yaXpvbnRhbFwiIDpcInZlcnRpY2FsXCIpO1xuICAgIH1cbiAgICB3aGlsZSggY29tcHV0ZXJCb2FyZC5zaGlwcy5sZW5ndGggIT0gMykge1xuXG4gICAgY29tcHV0ZXJCb2FyZC5wbGFjZVNoaXAoMywgW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDcpLCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA3KV0sIFxuICAgICAgICBNYXRoLnJhbmRvbSgpID4gLjUgPyBcImhvcml6b250YWxcIiA6XCJ2ZXJ0aWNhbFwiKTtcbiAgICB9XG4gICAgd2hpbGUoIGNvbXB1dGVyQm9hcmQuc2hpcHMubGVuZ3RoICE9IDQpIHtcblxuICAgIGNvbXB1dGVyQm9hcmQucGxhY2VTaGlwKDMsIFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA3KSwgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNyldLCBcbiAgICAgICAgTWF0aC5yYW5kb20oKSA+IC41ID8gXCJob3Jpem9udGFsXCIgOlwidmVydGljYWxcIik7XG4gICAgfVxuICAgIHdoaWxlKCBjb21wdXRlckJvYXJkLnNoaXBzLmxlbmd0aCAhPSA1KSB7XG5cbiAgICBjb21wdXRlckJvYXJkLnBsYWNlU2hpcCgyLCBbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCksIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgpXSwgXG4gICAgICAgIE1hdGgucmFuZG9tKCkgPiAuNSA/IFwiaG9yaXpvbnRhbFwiIDpcInZlcnRpY2FsXCIpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gY2hlY2tXaW5uZXIoKSB7XG5cbiAgICBpZiAoY29tcHV0ZXJCb2FyZC5hbGxTdW5rKCkgfHwgcGxheWVyQm9hcmQuYWxsU3VuaygpKSB7XG4gICAgICAgIHR1cm4gPSBcImNvbXB1dGVyXCI7XG4gICAgICAgIC8vZW5kIGdhbWVcbiAgICAgICAgZW5kR2FtZSgpO1xuICAgICAgICAvL3BvcCB1cCAgZ2FtZSBlbmRlZCBzY3JlZW47XG5cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHR1cm4gPSBcImNvbXB1dGVyXCI7XG4gICAgICAgIGF3YWl0IHNsZWVwKDApO1xuICAgICAgICBjb21wdXRlci5hdHRhY2tFbmVteSgpO1xuICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgdHVybiA9IFwicGxheWVyXCI7XG4gICAgfVxuXG59XG5cbmZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIGdhbWVTdGFydGVkID0gdHJ1ZTtcbiAgICBjb25zb2xlLmxvZyhcIkdhbWUgc3RhcnRlZCEhISFcIilcbn1cblxuZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgZ2FtZVN0YXJ0ZWQgPSBmYWxzZTtcbiAgICBnYW1lRW5kZWQgPSBmYWxzZTtcbiAgICB0dXJuID0gXCJwbGF5ZXJcIjtcbiAgICBzdGFydEdhbWUoKTtcbn1cblxuZnVuY3Rpb24gZW5kR2FtZSgpIHtcbiAgICBnYW1lRW5kZWQgPSB0cnVlO1xuICAgIGNvbnNvbGUubG9nKFwiR2FtZSBFbmRlZFwiKTtcbiAgICBnYW1lT3ZlckhhbmRsZXIoKTtcbn1cblxuZnVuY3Rpb24gZ2V0VHVybigpIHtcbiAgICByZXR1cm4gdHVybjtcbn1cblxuZnVuY3Rpb24gZ2V0UGxheWVyKCkge1xuICAgIHJldHVybiBwbGF5ZXI7XG59XG5cbmZ1bmN0aW9uIGdldENvbXB1dGVyKCkge1xuICAgIHJldHVybiBjb21wdXRlcjtcbn1cblxuZnVuY3Rpb24gZ2V0R2FtZVN0YXJ0ZWQoKSB7XG4gICAgcmV0dXJuIGdhbWVTdGFydGVkO1xufVxuXG5mdW5jdGlvbiBnZXRHYW1lRW5kZWQoKSB7XG4gICAgcmV0dXJuIGdhbWVFbmRlZDtcbn1cblxuZnVuY3Rpb24gc2xlZXAobXMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG59XG5cbmV4cG9ydCB7IHN0YXJ0R2FtZSwgY2hlY2tXaW5uZXIsIGdldFR1cm4sIGdldFBsYXllciwgZ2V0Q29tcHV0ZXIsIGdldEdhbWVTdGFydGVkLCBzdGFydCwgZ2V0R2FtZUVuZGVkLCByZXNldCB9OyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImltcG9ydCB7IGNyZWF0ZU1haW4gfSBmcm9tIFwiLi9ET01cIjtcbmltcG9ydCB7Y3JlYXRlR2FtZUJvYXJkfSBmcm9tIFwiLi9HYW1lYm9hcmRcIjtcbmltcG9ydCB7Y3JlYXRlUGxheWVyfSBmcm9tIFwiLi9QbGF5ZXJcIjtcbmltcG9ydCB7IHN0YXJ0R2FtZSB9IGZyb20gXCIuL0dhbWVcIjtcbmltcG9ydCBcIi4vc3R5bGUuY3NzXCI7XG5cblxuc3RhcnRHYW1lKCk7XG4vL3BvcCB1cCBpbnN0cnVjdGlvbiBzY3JlZW4sIG9uY2Ugb25seVxuXG4vL25lZWRzOlxuLy9pbnN0cnVjdGlvbiBzY3JlZW5cbi8vZW5kIHNjcmVlblxuLy9hbGxvdyB1c2VyIHRvIHJlc2V0LCBhbmQgcmVzdGFydCBnYW1lIGlmIGVuZGVkXG5cbi8vICBFUlJPUjogU0hJUFMgQ0FOTk9UIEJFIFBMQUNFRCBPTiBUT1AgT0YgRUFDSCBPVEhFUiAgXG4iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJfaSIsIl9pMiIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImNyZWF0ZVNoaXAiLCJzdGFydFBvcyIsIm9yaWVudGF0aW9uIiwicG9zQXJyYXkiLCJzZWxlY3RlZCIsImhpdHMiLCJoaXQiLCJwb3NpdGlvbiIsImFyciIsIml0ZW1fYXNfc3RyaW5nIiwic29tZSIsImVsZSIsImNvbnNvbGUiLCJsb2ciLCJpc1N1bmsiLCJtb3ZlIiwiZGlyZWN0aW9uIiwieCIsInJvdGF0ZSIsImNyZWF0ZUdhbWVCb2FyZCIsImlzQXJyYXlJbkFycmF5Iiwic2hpcHMiLCJtaXNzZXMiLCJwbGFjZVNoaXAiLCJibG9ja2luZyIsInNoaXAiLCJmb3JFYWNoIiwib3RoZXJTaGlwIiwicG9zIiwicmVjZWl2ZUF0dGFjayIsImlzSGl0IiwiYWxsU3VuayIsInN1bmsiLCJuZXdTaGlwIiwiY2FuTW92ZSIsImNhblJvdGF0ZSIsImNyZWF0ZVBsYXllciIsImdhbWVCb2FyZCIsImVuZW15R2FtZWJvYXJkIiwiaXNDb21wdXRlciIsInRyaWVzIiwiYXR0YWNrRW5lbXkiLCJyYW5kb21Qb3NpdGlvbiIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInNlbGVjdGVkU2hpcCIsImNyZWF0ZUdyaWQiLCJuYW1lIiwiZ3JpZCIsImNsYXNzTmFtZSIsIndpZHRoIiwiaGVpZ2h0IiwiaiIsInVuaXQiLCJib3JkZXJTdHlsZSIsImJvcmRlcldpZHRoIiwiYmFja2dyb3VuZENvbG9yIiwicGxhY2VTaGlwcyIsImdldFBsYXllciIsImdldENvbXB1dGVyIiwibWFya0hpdCIsIm1hcmtNaXNzZXMiLCJnZXRFbGVtZW50QnlJZCIsImNsYXNzTGlzdCIsImFkZCIsIm1pc3MiLCJwbGF5ZXJCb2FyZCIsImNvbXB1dGVyQm9hcmQiLCJwbGF5ZXIiLCJjb21wdXRlciIsInR1cm4iLCJnYW1lU3RhcnRlZCIsImdhbWVFbmRlZCIsInN0YXJ0R2FtZSIsInBsYWNlQ29tcFNoaXBzIiwiZG9jdW1lbnRCb2R5IiwiaW5zdHJ1Y3Rpb25zIiwiaW5zdHJ1Y3Rpb25zQ29udGVudCIsImlubmVySFRNTCIsImNsb3NlSW5zdHJ1Y3Rpb25zQnRuIiwiY3JlYXRlSW5zdHJ1Y3Rpb25zIiwiZ2FtZU92ZXIiLCJkaXNwbGF5IiwiZ2FtZU92ZXJDb250ZW50IiwiZ2FtZU92ZXJCdG4iLCJnYW1lT3ZlclNjcmVlbiIsImhlYWRlciIsInNlY29uZGFyeSIsInN0YXJ0QnRuIiwibWFpbkJvZHkiLCJib2FyZE5hbWUiLCJjcmVhdGVDb21wdXRlckJvYXJkIiwiaGVscEJ0biIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZXRHYW1lRW5kZWQiLCJnZXRHYW1lU3RhcnRlZCIsImNvbnRhaW5zIiwidW5pdElkIiwic3BsaXQiLCJwYXJzZUludCIsImNoZWNrV2lubmVyIiwiYXR0YWNrIiwic2VsZWN0ZWRQb3MiLCJzdG9wUHJvcGFnYXRpb24iLCJzaGlwQ2xpY2tlZCIsImV2ZW50IiwiZGVmYXVsdFByZXZlbnRlZCIsInNoaXBVbml0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJBcnJheSIsImZyb20iLCJ1cGRhdGVTaGlwcyIsInByZXZlbnREZWZhdWx0IiwibW9kYWwiLCJjbG9zZUJ1dHRvbiIsIm9uY2xpY2siLCJpbnN0cnVjdGlvbkhhbmRsZXJzIiwiY3JlYXRlSGFuZGxlcnMiLCJjcmVhdGVNYWluIiwiYXN5bmMiLCJnYW1lT3ZlckhhbmRsZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiXSwic291cmNlUm9vdCI6IiJ9